(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-list"],{3889:function(t,e,n){var a=n("7b2c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("4f06").default;r("48dabc20",a,!0,{sourceMap:!1,shadowMode:!1})},"4fff":function(t,e,n){"use strict";function a(t,e,n){this.$children.map(r=>{t===r.$options.name?r.$emit.apply(r,[e].concat(n)):a.apply(r,[t,e].concat(n))})}n.r(e),e["default"]={methods:{dispatch(t,e,n){let a=this.$parent||this.$root,r=a.$options.name;while(a&&(!r||r!==t))a=a.$parent,a&&(r=a.$options.name);a&&a.$emit.apply(a,[e].concat(n))},broadcast(t,e,n){a.call(this,t,e,n)}}}},"50ec":function(t,e,n){"use strict";var a=n("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3"),n("498a");var r=a(n("4fff")),o={name:"u-input",mixins:[r.default],props:{value:{type:[String,Number],default:""},type:{type:String,default:"text"},inputAlign:{type:String,default:"left"},placeholder:{type:String,default:"请输入内容"},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},placeholderStyle:{type:String,default:"color: #c0c4cc;"},confirmType:{type:String,default:"done"},customStyle:{type:Object,default:function(){return{}}},fixed:{type:Boolean,default:!1},focus:{type:Boolean,default:!1},passwordIcon:{type:Boolean,default:!0},border:{type:Boolean,default:!1},borderColor:{type:String,default:"#dcdfe6"},autoHeight:{type:Boolean,default:!0},selectOpen:{type:Boolean,default:!1},height:{type:[Number,String],default:""},clearable:{type:Boolean,default:!0},cursorSpacing:{type:[Number,String],default:0},selectionStart:{type:[Number,String],default:-1},selectionEnd:{type:[Number,String],default:-1},trim:{type:Boolean,default:!0},showConfirmbar:{type:Boolean,default:!0}},data:function(){return{defaultValue:this.value,inputHeight:70,textareaHeight:100,validateState:!1,focused:!1,showPassword:!1,lastValue:""}},watch:{value:function(t,e){this.defaultValue=t,t!=e&&"select"==this.type&&this.handleInput({detail:{value:t}})}},computed:{inputMaxlength:function(){return Number(this.maxlength)},getStyle:function(){var t={};return t.minHeight=this.height?this.height+"rpx":"textarea"==this.type?this.textareaHeight+"rpx":this.inputHeight+"rpx",t=Object.assign(t,this.customStyle),t},getCursorSpacing:function(){return Number(this.cursorSpacing)},uSelectionStart:function(){return String(this.selectionStart)},uSelectionEnd:function(){return String(this.selectionEnd)}},created:function(){this.$on("on-form-item-error",this.onFormItemError)},methods:{handleInput:function(t){var e=this,n=t.detail.value;this.trim&&(n=this.$u.trim(n)),this.$emit("input",n),this.defaultValue=n,setTimeout((function(){e.dispatch("u-form-item","on-form-change",n)}),40)},handleBlur:function(t){var e=this;setTimeout((function(){e.focused=!1}),100),this.$emit("blur",t.detail.value),setTimeout((function(){e.dispatch("u-form-item","on-form-blur",t.detail.value)}),40)},onFormItemError:function(t){this.validateState=t},onFocus:function(t){this.focused=!0,this.$emit("focus")},onConfirm:function(t){this.$emit("confirm",t.detail.value)},onClear:function(t){this.$emit("input","")},inputClick:function(){this.$emit("click")}}};e.default=o},"7b2c":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.full-width[data-v-553578a2]{width:100%}.u-m-a[data-v-553578a2]{margin:auto}.u-m-l-a[data-v-553578a2]{margin-left:auto}.u-m-r-a[data-v-553578a2]{margin-right:auto}.u-justify-center[data-v-553578a2]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.u-input[data-v-553578a2]{position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row\n}.u-input__input[data-v-553578a2]{font-size:%?28?%;color:#303133;-webkit-box-flex:1;-webkit-flex:1;flex:1}.u-input__textarea[data-v-553578a2]{width:auto;font-size:%?28?%;color:#303133;padding:%?10?% 0;line-height:normal;-webkit-box-flex:1;-webkit-flex:1;flex:1}.u-input--border[data-v-553578a2]{border-radius:%?6?%;border-radius:4px;border:1px solid #dcdfe6}.u-input--error[data-v-553578a2]{border-color:#fa3534!important}.u-input__right-icon__item[data-v-553578a2]{margin-left:%?10?%}.u-input__right-icon--select[data-v-553578a2]{-webkit-transition:-webkit-transform .4s;transition:-webkit-transform .4s;transition:transform .4s;transition:transform .4s,-webkit-transform .4s}.u-input__right-icon--select--reverse[data-v-553578a2]{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}',""]),t.exports=e},"9b79":function(t,e,n){"use strict";(function(t){var a=n("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("d0ff")),o=a(n("a195")),i={data:function(){return{searchInput:"",orderList:[],showMessageModel:!1,nowPage:1,maxPage:0,orderInfo:{store:{store_name:""},detail:[{goodsInfo:{name:""}}]}}},onLoad:function(t){var e=this;this.$nextTick((function(t){e.orderList=[],e.getOrderList(1,10)}))},onReachBottom:function(){t.log("加载下一页"+this.nowPage),this.nowPage+1<=this.maxPage&&(this.nowPage++,this.getOrderList(this.nowPage,10))},methods:{statusToStr:function(t){switch(t){case 0:return"已下单";case 1:return"已付款";case 2:return"已兑换";case-1:return"订单结束";default:return"未知状态"+t}},getOrderList:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";o.default.getOrderList(t,e,a).then((function(t){var e;(e=n.orderList).push.apply(e,(0,r.default)(t.data.data)),n.nowPage=t.data.current_page,n.maxPage=t.data.last_page}))},searchOrder:function(){this.orderList=[],this.getOrderList(1,10,this.searchInput)},getOrderInfo:function(t){var e=this;o.default.getOrderInfo(t).then((function(t){e.orderInfo=t.data})),this.showMessageModel=!0},endOrder:function(t){var e=this;o.default.endOrder(t).then((function(t){uni.showToast({title:"核销成功",icon:"success"}),e.showMessageModel=!1}))}}};e.default=i}).call(this,n("5a52")["default"])},a195:function(t,e,n){"use strict";var a=n("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("276c")),o=a(n("e954")),i=a(n("fc11")),u=a(n("5d7d")),s=function(){function t(){(0,r.default)(this,t),(0,i.default)(this,"BASE_URL","admin/OrderList/")}return(0,o.default)(t,[{key:"getOrderList",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return u.default.doHttp(this.BASE_URL+"findAll","get",{page:t,pageSize:e,phone:n})}},{key:"getOrderInfo",value:function(t){return u.default.doHttp(this.BASE_URL+"find","get",{id:t})}},{key:"endOrder",value:function(t){return u.default.doHttp(this.BASE_URL+"endOrder","post",{id:t})}}]),t}(),l=new s;e.default=l},a40b:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={uIcon:n("f86b").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-input",class:{"u-input--border":t.border,"u-input--error":t.validateState},style:{padding:"0 "+(t.border?20:0)+"rpx",borderColor:t.borderColor,textAlign:t.inputAlign},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.inputClick.apply(void 0,arguments)}}},["textarea"==t.type?n("v-uni-textarea",{staticClass:"u-input__input u-input__textarea",style:[t.getStyle],attrs:{value:t.defaultValue,placeholder:t.placeholder,placeholderStyle:t.placeholderStyle,disabled:t.disabled,maxlength:t.inputMaxlength,fixed:t.fixed,focus:t.focus,autoHeight:t.autoHeight,"selection-end":t.uSelectionEnd,"selection-start":t.uSelectionStart,"cursor-spacing":t.getCursorSpacing,"show-confirm-bar":t.showConfirmbar},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleInput.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.handleBlur.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}}):n("v-uni-input",{staticClass:"u-input__input",style:[t.getStyle],attrs:{type:"password"==t.type?"text":t.type,value:t.defaultValue,password:"password"==t.type&&!t.showPassword,placeholder:t.placeholder,placeholderStyle:t.placeholderStyle,disabled:t.disabled||"select"===t.type,maxlength:t.inputMaxlength,focus:t.focus,confirmType:t.confirmType,"cursor-spacing":t.getCursorSpacing,"selection-end":t.uSelectionEnd,"selection-start":t.uSelectionStart,"show-confirm-bar":t.showConfirmbar},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.handleBlur.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleInput.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"u-input__right-icon u-flex"},[t.clearable&&""!=t.value&&t.focused?n("v-uni-view",{staticClass:"u-input__right-icon__clear u-input__right-icon__item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClear.apply(void 0,arguments)}}},[n("u-icon",{attrs:{size:"32",name:"close-circle-fill",color:"#c0c4cc"}})],1):t._e(),t.passwordIcon&&"password"==t.type?n("v-uni-view",{staticClass:"u-input__right-icon__clear u-input__right-icon__item"},[n("u-icon",{attrs:{size:"32",name:t.showPassword?"eye-fill":"eye",color:"#c0c4cc"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPassword=!t.showPassword}}})],1):t._e(),"select"==t.type?n("v-uni-view",{staticClass:"u-input__right-icon--select u-input__right-icon__item",class:{"u-input__right-icon--select--reverse":t.selectOpen}},[n("u-icon",{attrs:{name:"arrow-down-fill",size:"26",color:"#c0c4cc"}})],1):t._e()],1)],1)},o=[]},a7c0:function(t,e,n){"use strict";n.r(e);var a=n("b4ae"),r=n("b9ab");for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);var i,u=n("f0c5"),s=Object(u["a"])(r["default"],a["b"],a["c"],!1,null,"8b949abe",null,!1,a["a"],i);e["default"]=s.exports},acf9:function(t,e,n){"use strict";var a=n("3889"),r=n.n(a);r.a},b4ae:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={uRow:n("d67a").default,uCol:n("b408").default,uInput:n("d5da").default,uButton:n("d9ad").default,uCard:n("d505").default,uPopup:n("df25").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-padding-30"},[n("v-uni-view",[n("u-row",[n("u-col",{attrs:{span:"9"}},[n("u-input",{attrs:{border:!0,placeholder:"请输入取单手机号"},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}})],1),n("u-col",{attrs:{span:"3"}},[n("u-button",{staticStyle:{width:"100%"},attrs:{size:"medium",ripple:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchOrder.apply(void 0,arguments)}}},[t._v("搜索")])],1)],1)],1),n("v-uni-view",[t._l(t.orderList,(function(e,a){return n("v-uni-view",{key:a},[n("u-card",{attrs:{"show-head":!1,showFoot:!1},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getOrderInfo(e.id)}}},[n("v-uni-view",{attrs:{slot:"body"},slot:"body"},[n("u-row",[n("u-col",{attrs:{span:"3"}},[t._v("手 机 号:")]),n("u-col",{attrs:{span:"9"}},[t._v(t._s((e.phone+"").replace(/\B(?=(?:\d{4})+$)/g," ")))]),n("u-col",{attrs:{span:"3"}},[t._v("订单状态:")]),n("u-col",{attrs:{span:"9"}},[t._v(t._s(t.statusToStr(e.order_status)))]),n("u-col",{attrs:{span:"3"}},[t._v("下单时间:")]),n("u-col",{attrs:{span:"9"}},[t._v(t._s(e.create_time))]),n("u-col",{attrs:{span:"3"}},[t._v("支付时间:")]),n("u-col",{attrs:{span:"9"}},[t._v(t._s(e.pay_order_time))]),n("u-col",{attrs:{span:"3"}},[t._v("取单门店:")]),n("u-col",{attrs:{span:"9"}},[t._v(t._s(e.store.store_name))]),n("u-col",{attrs:{span:"3"}},[t._v("取单时间:")]),n("u-col",{attrs:{span:"9"}},[t._v(t._s(e.order_end_time))])],1)],1)],1)],1)})),n("v-uni-view",{staticClass:"u-text-center u-m-t-40"},[t._v("到底了")])],2),n("v-uni-view",[n("u-popup",{attrs:{mode:"center","border-radius":"14",width:"700",closeable:!0,"mask-close-able":!1},model:{value:t.showMessageModel,callback:function(e){t.showMessageModel=e},expression:"showMessageModel"}},[n("v-uni-view",{staticClass:"u-p-t-70 u-p-b-20 u-p-l-30 u-p-r-30 u-height-full u-flex u-flex-column"},[n("u-row",[n("u-col",{attrs:{span:"4"}},[t._v("订单编号:")]),n("u-col",{attrs:{span:"8"}},[t._v(t._s(t.orderInfo.order_no))]),n("u-col",{attrs:{span:"4"}},[t._v("取单门店:")]),n("u-col",{attrs:{span:"8"}},[t._v(t._s(t.orderInfo.store.store_name))]),n("u-col",{attrs:{span:"4"}},[t._v("下单手机:")]),n("u-col",{attrs:{span:"8"}},[t._v(t._s((t.orderInfo.phone+"").replace(/\B(?=(?:\d{4})+$)/g," ")))]),n("u-col",{attrs:{span:"4"}},[t._v("订单金额:")]),n("u-col",{attrs:{span:"8"}},[t._v(t._s(t.orderInfo.price))]),n("u-col",{attrs:{span:"4"}},[t._v("订单状态:")]),n("u-col",{attrs:{span:"8"}},[t._v(t._s(t.statusToStr(t.orderInfo.order_status)))]),n("u-col",{attrs:{span:"4"}},[t._v("下单时间:")]),n("u-col",{attrs:{span:"8"}},[t._v(t._s(t.orderInfo.create_time))]),n("u-col",{attrs:{span:"4"}},[t._v("支付时间:")]),n("u-col",{attrs:{span:"8"}},[t._v(t._s(t.orderInfo.pay_order_time))]),n("u-col",{attrs:{span:"4"}},[t._v("取单时间:")]),n("u-col",{attrs:{span:"8"}},[t._v(t._s(t.orderInfo.order_end_time))]),n("u-col",{attrs:{span:"12"}}),1==t.orderInfo.order_status?n("u-col",{staticClass:"u-m-t-40 u-m-b-10",attrs:{span:"12"}},[n("u-button",{attrs:{type:"success"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.endOrder(t.orderInfo.id)}}},[t._v("取单")])],1):t._e()],1)],1)],1)],1)],1)},o=[]},b9ab:function(t,e,n){"use strict";n.r(e);var a=n("9b79"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=r.a},d5da:function(t,e,n){"use strict";n.r(e);var a=n("a40b"),r=n("daa9");for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n("acf9");var i,u=n("f0c5"),s=Object(u["a"])(r["default"],a["b"],a["c"],!1,null,"553578a2",null,!1,a["a"],i);e["default"]=s.exports},daa9:function(t,e,n){"use strict";n.r(e);var a=n("50ec"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=r.a}}]);